# SimC AST Formatter

A web-based formatter for SimulationCraft code that visualizes the Abstract Syntax Tree (AST) generated by the simc-ast-builder library.

## Features

- Parse SimC code and generate an AST
- Visualize the AST in two different ways:
  - Text-based tree view for detailed inspection
  - Visual tree diagram using Konva.js for a graphical representation
- Option to optimize the AST
- Clean, responsive UI built with Svelte and Bootstrap

## Getting Started

### Prerequisites

- Node.js (v14 or later)
- npm or yarn

### Installation

1. Clone the repository
2. Navigate to the formatter directory:
   ```
   cd examples/formatter
   ```
3. Install dependencies:
   ```
   npm install
   ```

### Development

To start the development server:

```
npm run dev
```

This will:

- Build the JavaScript bundle with Rollup
- Start a local server with live reloading

### Building for Production

To build the project for production:

```
npm run build
```

The built files will be in the `public` directory.

## How It Works

1. Enter SimC code in the text area
2. Click "Parse Code" to generate and visualize the AST
3. Toggle "Optimize AST" to apply optimizations to the generated AST
4. Switch between "Text View" and "Visual Tree" tabs to see different visualizations

## Example SimC Code

Try these examples:

```
actions=frost_strike,if=runic_power>=80
```

```
actions=frost_strike,if=runic_power>=80&!buff.killing_machine.up
```

```
actions=frost_strike,if=!(!runic_power>=80&!buff.killing_machine.up)
```

## Technologies Used

- [simc-ast-builder](https://github.com/legacy3/simc-ast-builder) - For parsing SimC code and generating ASTs
- [Svelte](https://svelte.dev/) - For building the UI
- [Bootstrap](https://getbootstrap.com/) - For styling
- [Konva.js](https://konvajs.org/) - For rendering the visual tree diagram
- [Rollup](https://rollupjs.org/) - For bundling JavaScript
